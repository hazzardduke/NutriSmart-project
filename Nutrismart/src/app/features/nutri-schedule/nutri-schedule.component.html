<!-- src/app/nutri-schedule/nutri-schedule.component.html -->
<div class="schedule-container">
  <h2 class="title">Horario del nutricionista</h2>

  <ul class="tabs">
    <li
      [class.active]="activeTab==='new'"
      (click)="activeTab='new'"
    >
      Nuevas citas
    </li>
    <li
      [class.active]="activeTab==='history'"
      (click)="activeTab='history'"
    >
      Calendario
    </li>
  </ul>

  <!-- PESTAÑA “NUEVAS CITAS” -->
  <section *ngIf="activeTab==='new'">
    <form class="form-schedule" (ngSubmit)="scheduleCita()">
      <div class="form-group">
        <label for="client">Cliente</label>
        <select
          id="client"
          name="client"
          [(ngModel)]="selectedClientId"
          required
        >
          <option value="" disabled>-- Seleccionar cliente --</option>
          <option *ngFor="let c of clients" [value]="c.id">
            {{ c.nombre }} {{ c.apellido }} ({{ c.cedula }})
          </option>
        </select>
      </div>

      <div class="form-group">
        <label for="date">Fecha</label>
        <input
          type="date"
          id="date"
          name="date"
          [(ngModel)]="fechaSeleccionada"
          [min]="today"
          (ngModelChange)="onDateChange()"
          required
        />
      </div>

      <div class="form-group">
        <label>Franja horaria</label>
        <div class="horarios">
          <button
            *ngFor="let h of horarios"
            type="button"
            (click)="horaSeleccionada = h"
            [disabled]="!isHorarioDisponible(h)"
            [class.selected]="h === horaSeleccionada"
          >
            {{ h }}
          </button>
        </div>
      </div>

      <button
        type="submit"
        class="btn-schedule"
        [disabled]="!selectedClientId || !horaSeleccionada"
      >
        Programar cita
      </button>
    </form>
  </section>

  <!-- PESTAÑA “CALENDARIO” -->
  <section *ngIf="activeTab==='history'" class="history-tab">
    <div class="fullcalendar-wrapper">
      <full-calendar [options]="calendarOptions"></full-calendar>
    </div>

    
